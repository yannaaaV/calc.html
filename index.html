<style>
    .app-container{
        width: 350px;
        height: 350px;
    }
    .calculator{
        display: grid;
        grid-template-columns: repeat(4, auto);
        grid-template-rows: repeat(5, auto);
    }
    .display{
        grid-column-start: 1;
        grid-column-end: 5;
        text-align: right;
        border: 2px solid black;
        padding-top: 5px;
        padding-left: 10px;
        height: 50px;
        font-size: 40px;
    }
    .button{
        height: 80px;
        color: aqua;
}
button.operator {
    background-color: rgb(119, 240, 123);
    height: 50px;
}
</style>
<div id="app"></div>

<script
  src="https://unpkg.com/react@18/umd/react.development.js"
  crossorigin
></script>
<script
  src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
  crossorigin
></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script type="text/babel">
  // function sample(a, b){
  //     return console.log(a + b);
  //. }

  // sample(2, 4);

  // // arrow function
  // const Add = (a, b) => (
  //     console.log(a + b)
  // )
  // add(3,4)

  // const name = 'Ryan';
//   const hello = React.createElement("h1", {}, "Hello, React!");

// const hello = (
//     <div>
//         <h3>Hello World!</h3>
//     </div>
// )
//ReactDOM.render(hello, document.getElementById("app"));
// #############################################################
// Components
// const Hello = (props) => (
//     <h1>Hello, {props.name}, I am {props.age} years old!</h1>
    
// )

// ReactDOM.render(<Hello name='Bryan' age={12}/>, document.getElementById("app"));

//===============================================================================================
//React callback function

    
// parent component

function Calculator(){

// for the onClick event
    function handleNumber(value){
   // alert(value);
 let newValue= value;

 if(!calc.isInitial){
    newValue = cal.current + value;
 }
   setCalc({current: newValue, total: calc.total, isInitial: false, preOp: calc.preOp});
}
    //const [display, setDisplay]= React.useState('0');
 
    //usestate
const [calc, setCalc]= React.useState({
    current: '0',
    total: '',
    isInitial: true,
    preOp: ''
});

//handle clear button
function handleClear(){
    setCalc({
    current: '0',
    total: '',
    isInitial: true,
    preOp: ''
 });
}
//handle for operator
function handleOperator(value){
    const total = doCalculation();
    setCalc({
        current: total.toString(),
        total: total.toString(),
        isInitial: true, 
        preOp: value
    });
}
//for calculation function
function doCalculation(){
    let total = parseFloat(calc.total);
    switch(calc.preOp){
        case '*':
            total *= parseFloat(calc.current); //equivalent to total = tolal * parseFloat(calc.current)
            break;
        case '/':
            total /= parseFloat(calc.current); //equivalent to total = tolal / parseFloat(calc.current)
            break;
        case '+':
            total += parseFloat(calc.current); //equivalent to total = tolal + parseFloat(calc.current)
            break;
        case '-':
            total -= parseFloat(calc.current); //equivalent to total = tolal - parseFloat(calc.current)
            break;
        default:
            total = parseFloat(calc.current)
    }
    return total;
}
    return(
        <div className="calculator">
            <div className="display">{calc.current}</div>

            <CalcButton  onClick={handleNumber} value="7"/>
            <CalcButton  onClick={handleNumber} value="8"/>
            <CalcButton  onClick={handleNumber} value="9"/>
            <CalcButton className="operator" value="*"onClick={handleOperator}/>

            <CalcButton  onClick={handleNumber} value="4"/>
            <CalcButton  onClick={handleNumber} value="5"/>
            <CalcButton  onClick={handleNumber} value="6"/>
            <CalcButton className="operator" value="/"onClick={handleOperator}/>

            <CalcButton onClick={handleNumber} value="1"/>
            <CalcButton value="2" onClick={handleNumber}/>
            <CalcButton value="3" onClick={handleNumber}/>
            <CalcButton className="operator" value="+"onClick={handleOperator}/>

            <CalcButton value="C" onClick={handleClear}/>
            <CalcButton value="0" onClick={handleNumber}/>
            <CalcButton className="operator" value="="onClick={handleOperator}/>
            <CalcButton className="operator" value="-"onClick={handleOperator}/>
        </div>
    );
}
// child component
function CalcButton(props){
    return(
        <button className={props.className} onClick={()=>props.onClick(props.value)}>{props.value}</button>
    );
}
ReactDOM.render(<div className="app-container"><Calculator/></div>, document.getElementById("app"));
</script>